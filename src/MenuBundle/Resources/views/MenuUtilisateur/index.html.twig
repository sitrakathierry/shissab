{% extends 'base.html.twig' %}
{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" href="{{ asset('css/plugins/jqGrid/ui.jqgrid.css') }}">

  <style type="text/css">
  	.chosen-container-multi .chosen-choices li.search-choice {
    	display: block !important;
	}

	.list-group-item .user-role {
	    color: #0092df;
	}

	.list-group-item.active .user-role {
	    color: #0092df;
	}

	div.nestable-menu .dd-item > button {
	    font-family: FontAwesome;
	    height: 34px;
	    width: 33px;
	    color: #c1c1c1;
	}
	div.nestable-menu .dd-item > button:before {
	    content: "\f067";
	}
	div.nestable-menu .dd-item > button[data-action="collapse"]:before {
	    content: "\f068";
	}

	div.nestable-menu .dd-handle {
	    color: inherit;
	    border: 1px dashed #e7eaec;
	    background: #f3f3f4;
	    padding: 10px;
	}
	div.nestable-menu .dd-handle:hover {
	    /*background: #bbb;*/
	}
	div.nestable-menu span.label {
	    margin-right: 10px;
	}

	.badge.role {
	    width: 85px;
	}

	.list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover {
	    z-index: 2;
	    color: #fff;
	    background-color: #0092df;
	    border-color: #0092df;
	}

	.list-group-item {
	    border-radius: unset !important;
	}
	.list-group {
		padding: 5px;
	}

  </style>
{% endblock  %}
{% block scripts %}
{{ parent() }}
  <script src="{{ asset('js/plugins/jqGrid/jquery.jqGrid.min.js') }}"></script>
  <script src="{{ asset('js/plugins/accent-fold/accent-fold.js') }}"></script>
  <script src="{{ asset('bundles/menu/js/menu-utilisateur.js') }}"></script>
{% endblock %}
{% block contenu %}
<div class="wrapper wrapper-content ">
  <div class="row">
    <div class="col-lg-12">

    	<div class="ibox float-e-margins">
    		<div class="ibox-title">
    			<h5>Permission des agents</h5>
    		</div>
    		<div class="ibox-content">
		        <div class="row">
		            <div class="col-lg-5" id="tab-container">
		                <h4 class="bg-info padding-6">Listes des agents</h4>
		                <div style="width:100%; display: flex;flex-direction: row-reverse; padding: 0 5px 5px;">
		                    <input id="user-search" type="search" placeholder="Chercher" style="width: 250px" class="form-control">
		                </div>
		                <div id="user-list" style="overflow-y: scroll;">
		                    <ul class="list-group">
			                    {% for agent in agents %}
			                        <li class="list-group-item" data-id="{{agent.user.id}}">
				                        <span class="badge user-role">{{agent.responsable}}</span>
				                        {{agent.user.username}}
			                        </li>
			                    {% endfor %}
		                    </ul>
		                </div>
		            </div>
		            <div class="col-lg-7">
		                <h4 class="bg-info padding-6">
		                    Liste des menus
		                    <div class="btn-group pull-right" role="group" aria-label="..."
		                         style="margin-top: -3px;">
		                        <button id="btn-save-menu-user" type="button" class="btn btn-xs btn-info">
		                            <i class="fa fa-save"></i> Enregistrer
		                        </button>
		                        {# <button id="btn-override-menu-user" type="button"
		                                class="btn btn-xs btn-white" title="Utiliser les paramètres du rôle">
		                            <i class="fa fa-refresh"></i> Par défaut
		                        </button> #}
		                        <button type="button" data-action="expand-all" data-target="#menu-list-user"
		                                class="btn-collapse-list-menu btn btn-xs btn-white">
		                            <i class="fa fa-expand" title="Ouvrir tout"></i>
		                        </button>
		                        <button type="button" data-action="collapse-all"
		                                data-target="#menu-list-user"
		                                class="btn-collapse-list-menu btn btn-xs btn-white">
		                            <i class="fa fa-compress" title="Réduire tout"></i>
		                        </button>
		                    </div>
		                </h4>
		                <div id="menu-list-user" class="hidden" style="overflow-y: auto;">
		                    
		                </div>
		            </div>
		        </div>
    			
    		</div>
    	</div>

    </div>
  </div>
</div>
{% endblock %}